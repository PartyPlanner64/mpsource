.include "globals.inc"
.include "macros.inc"

.set noat
.set noreorder

glabel func_8004BA04
/* 04C604 8004BA04 27BDFF68 */  addiu $29, $29, -0x98
/* 04C608 8004BA08 AFBF008C */  sw    $31, 0x8c($29)
/* 04C60C 8004BA0C AFBE0088 */  sw    $30, 0x88($29)
/* 04C610 8004BA10 AFB70084 */  sw    $23, 0x84($29)
/* 04C614 8004BA14 AFB60080 */  sw    $22, 0x80($29)
/* 04C618 8004BA18 AFB5007C */  sw    $21, 0x7c($29)
/* 04C61C 8004BA1C AFB40078 */  sw    $20, 0x78($29)
/* 04C620 8004BA20 AFB30074 */  sw    $19, 0x74($29)
/* 04C624 8004BA24 AFB20070 */  sw    $18, 0x70($29)
/* 04C628 8004BA28 AFB1006C */  sw    $17, 0x6c($29)
/* 04C62C 8004BA2C AFB00068 */  sw    $16, 0x68($29)
/* 04C630 8004BA30 F7B40090 */  sdc1  $f20, 0x90($29)
/* 04C634 8004BA34 00808821 */  addu  $17, $4, $0
/* 04C638 8004BA38 30C600FF */  andi  $6, $6, 0xff
/* 04C63C 8004BA3C 14C000DE */  bnez  $6, .L8004BDB8
/* 04C640 8004BA40 AFA50054 */   sw    $5, 0x54($29)
/* 04C644 8004BA44 3C02800F */  lui   $2, %hi(D_800F3290) # $2, 0x800f
/* 04C648 8004BA48 94423290 */  lhu   $2, %lo(D_800F3290)($2)
/* 04C64C 8004BA4C 104000DA */  beqz  $2, .L8004BDB8
/* 04C650 8004BA50 00002021 */   addu  $4, $0, $0
/* 04C654 8004BA54 8E230000 */  lw    $3, ($17)
/* 04C658 8004BA58 24620008 */  addiu $2, $3, 8
/* 04C65C 8004BA5C AE220000 */  sw    $2, ($17)
/* 04C660 8004BA60 3C02DE00 */  lui   $2, 0xde00
/* 04C664 8004BA64 AC620000 */  sw    $2, ($3)
/* 04C668 8004BA68 3C02800C */  lui   $2, %hi(D_800C5120) # $2, 0x800c
/* 04C66C 8004BA6C 24425120 */  addiu $2, %lo(D_800C5120) # addiu $2, $2, 0x5120
/* 04C670 8004BA70 AC620004 */  sw    $2, 4($3)
/* 04C674 8004BA74 0C007596 */  jal   func_8001D658
/* 04C678 8004BA78 02202821 */   addu  $5, $17, $0
/* 04C67C 8004BA7C 00002021 */  addu  $4, $0, $0
/* 04C680 8004BA80 0C0075F7 */  jal   func_8001D7DC
/* 04C684 8004BA84 02202821 */   addu  $5, $17, $0
/* 04C688 8004BA88 3C03800E */  lui   $3, %hi(D_800D8140) # $3, 0x800e
/* 04C68C 8004BA8C 84638140 */  lh    $3, %lo(D_800D8140)($3)
/* 04C690 8004BA90 10600005 */  beqz  $3, .L8004BAA8
/* 04C694 8004BA94 24020001 */   li    $2, 1
/* 04C698 8004BA98 10620009 */  beq   $3, $2, .L8004BAC0
/* 04C69C 8004BA9C 24020020 */   li    $2, 32
/* 04C6A0 8004BAA0 08012EB6 */  j     func_8004BAD8
/* 04C6A4 8004BAA4 00000000 */   nop   

.L8004BAA8:
/* 04C6A8 8004BAA8 3C16000C */  lui   $22, %hi(D_000C50A0) # $22, 0xc
/* 04C6AC 8004BAAC 26D650A0 */  addiu $22, %lo(D_000C50A0) # addiu $22, $22, 0x50a0
/* 04C6B0 8004BAB0 3C1E800C */  lui   $30, %hi(D_800C504C) # $30, 0x800c
/* 04C6B4 8004BAB4 27DE504C */  addiu $30, %lo(D_800C504C) # addiu $30, $30, 0x504c
/* 04C6B8 8004BAB8 08012EBA */  j     func_8004BAE8
/* 04C6BC 8004BABC 24020020 */   li    $2, 32

.L8004BAC0:
/* 04C6C0 8004BAC0 3C16000C */  lui   $22, %hi(D_000C50E0) # $22, 0xc
/* 04C6C4 8004BAC4 26D650E0 */  addiu $22, %lo(D_000C50E0) # addiu $22, $22, 0x50e0
/* 04C6C8 8004BAC8 3C1E800C */  lui   $30, %hi(D_800C504C) # $30, 0x800c
/* 04C6CC 8004BACC 27DE504C */  addiu $30, %lo(D_800C504C) # addiu $30, $30, 0x504c
/* 04C6D0 8004BAD0 08012EBA */  j     func_8004BAE8
/* 04C6D4 8004BAD4 24020008 */   li    $2, 8

glabel func_8004BAD8
/* 04C6D8 8004BAD8 3C16000C */  lui   $22, %hi(D_000C50A0) # $22, 0xc
/* 04C6DC 8004BADC 26D650A0 */  addiu $22, %lo(D_000C50A0) # addiu $22, $22, 0x50a0
/* 04C6E0 8004BAE0 3C1E800C */  lui   $30, %hi(D_800C5074) # $30, 0x800c
/* 04C6E4 8004BAE4 27DE5074 */  addiu $30, %lo(D_800C5074) # addiu $30, $30, 0x5074
glabel func_8004BAE8
/* 04C6E8 8004BAE8 00009821 */  addu  $19, $0, $0
/* 04C6EC 8004BAEC 0040A821 */  addu  $21, $2, $0
/* 04C6F0 8004BAF0 0002A042 */  srl   $20, $2, 1
/* 04C6F4 8004BAF4 02B50018 */  mult  $21, $21
/* 04C6F8 8004BAF8 00004012 */  mflo  $8
/* 04C6FC 8004BAFC AFA8005C */  sw    $8, 0x5c($29)
/* 04C700 8004BB00 26A2FFFF */  addiu $2, $21, -1
/* 04C704 8004BB04 00021080 */  sll   $2, $2, 2
/* 04C708 8004BB08 30570FFF */  andi  $23, $2, 0xfff
.L8004BB0C:
/* 04C70C 8004BB0C 3C02800E */  lui   $2, %hi(D_800D8118) # $2, 0x800e
/* 04C710 8004BB10 24428118 */  addiu $2, %lo(D_800D8118) # addiu $2, $2, -0x7ee8
/* 04C714 8004BB14 00131880 */  sll   $3, $19, 2
/* 04C718 8004BB18 00622021 */  addu  $4, $3, $2
/* 04C71C 8004BB1C 8C820000 */  lw    $2, ($4)
/* 04C720 8004BB20 104000A1 */  beqz  $2, .L8004BDA8
/* 04C724 8004BB24 007E1021 */   addu  $2, $3, $30
/* 04C728 8004BB28 C4540000 */  lwc1  $f20, ($2)
/* 04C72C 8004BB2C 8E230000 */  lw    $3, ($17)
/* 04C730 8004BB30 24620008 */  addiu $2, $3, 8
/* 04C734 8004BB34 AE220000 */  sw    $2, ($17)
/* 04C738 8004BB38 3C02FD18 */  lui   $2, 0xfd18
/* 04C73C 8004BB3C AC620000 */  sw    $2, ($3)
/* 04C740 8004BB40 8C820000 */  lw    $2, ($4)
/* 04C744 8004BB44 24420010 */  addiu $2, $2, 0x10
/* 04C748 8004BB48 AC620004 */  sw    $2, 4($3)
/* 04C74C 8004BB4C 8E230000 */  lw    $3, ($17)
/* 04C750 8004BB50 24620008 */  addiu $2, $3, 8
/* 04C754 8004BB54 AE220000 */  sw    $2, ($17)
/* 04C758 8004BB58 3C08F518 */  lui   $8, 0xf518
/* 04C75C 8004BB5C AC680000 */  sw    $8, ($3)
/* 04C760 8004BB60 3C020708 */  lui   $2, (0x07080200 >> 16) # lui $2, 0x708
/* 04C764 8004BB64 34420200 */  ori   $2, (0x07080200 & 0xFFFF) # ori $2, $2, 0x200
/* 04C768 8004BB68 AC620004 */  sw    $2, 4($3)
/* 04C76C 8004BB6C 8E230000 */  lw    $3, ($17)
/* 04C770 8004BB70 24620008 */  addiu $2, $3, 8
/* 04C774 8004BB74 AE220000 */  sw    $2, ($17)
/* 04C778 8004BB78 3C02E600 */  lui   $2, 0xe600
/* 04C77C 8004BB7C AC620000 */  sw    $2, ($3)
/* 04C780 8004BB80 AC600004 */  sw    $0, 4($3)
/* 04C784 8004BB84 8E230000 */  lw    $3, ($17)
/* 04C788 8004BB88 24620008 */  addiu $2, $3, 8
/* 04C78C 8004BB8C AE220000 */  sw    $2, ($17)
/* 04C790 8004BB90 00603021 */  addu  $6, $3, $0
/* 04C794 8004BB94 3C02F300 */  lui   $2, 0xf300
/* 04C798 8004BB98 ACC20000 */  sw    $2, ($6)
/* 04C79C 8004BB9C 1A800002 */  blez  $20, .L8004BBA8
/* 04C7A0 8004BBA0 24040800 */   li    $4, 2048
/* 04C7A4 8004BBA4 268407FF */  addiu $4, $20, 0x7ff
.L8004BBA8:
/* 04C7A8 8004BBA8 8FA8005C */  lw    $8, 0x5c($29)
/* 04C7AC 8004BBAC 2503FFFF */  addiu $3, $8, -1
/* 04C7B0 8004BBB0 28620800 */  slti  $2, $3, 0x800
/* 04C7B4 8004BBB4 50400001 */  beql  $2, $0, .L8004BBBC
/* 04C7B8 8004BBB8 240307FF */   li    $3, 2047
.L8004BBBC:
/* 04C7BC 8004BBBC 30620FFF */  andi  $2, $3, 0xfff
/* 04C7C0 8004BBC0 00021300 */  sll   $2, $2, 0xc
/* 04C7C4 8004BBC4 3C030700 */  lui   $3, 0x700
/* 04C7C8 8004BBC8 1A800010 */  blez  $20, .L8004BC0C
/* 04C7CC 8004BBCC 00432825 */   or    $5, $2, $3
/* 04C7D0 8004BBD0 0094001A */  div   $0, $4, $20
/* 04C7D4 8004BBD4 16800002 */  bnez  $20, .L8004BBE0
/* 04C7D8 8004BBD8 00000000 */   nop   
/* 04C7DC 8004BBDC 0007000D */  break 7
.L8004BBE0:
/* 04C7E0 8004BBE0 2401FFFF */  li    $1, -1
/* 04C7E4 8004BBE4 16810004 */  bne   $20, $1, .L8004BBF8
/* 04C7E8 8004BBE8 3C018000 */   lui   $1, 0x8000
/* 04C7EC 8004BBEC 14810002 */  bne   $4, $1, .L8004BBF8
/* 04C7F0 8004BBF0 00000000 */   nop   
/* 04C7F4 8004BBF4 0006000D */  break 6
.L8004BBF8:
/* 04C7F8 8004BBF8 00001012 */  mflo  $2
/* 04C7FC 8004BBFC 00000000 */  nop   
/* 04C800 8004BC00 00000000 */  nop   
/* 04C804 8004BC04 08012F04 */  j     func_8004BC10
/* 04C808 8004BC08 30420FFF */   andi  $2, $2, 0xfff

.L8004BC0C:
/* 04C80C 8004BC0C 30820FFF */  andi  $2, $4, 0xfff
glabel func_8004BC10
/* 04C810 8004BC10 00A21025 */  or    $2, $5, $2
/* 04C814 8004BC14 ACC20004 */  sw    $2, 4($6)
/* 04C818 8004BC18 8E230000 */  lw    $3, ($17)
/* 04C81C 8004BC1C 24620008 */  addiu $2, $3, 8
/* 04C820 8004BC20 AE220000 */  sw    $2, ($17)
/* 04C824 8004BC24 3C02E700 */  lui   $2, 0xe700
/* 04C828 8004BC28 AC620000 */  sw    $2, ($3)
/* 04C82C 8004BC2C AC600004 */  sw    $0, 4($3)
/* 04C830 8004BC30 8E230000 */  lw    $3, ($17)
/* 04C834 8004BC34 24620008 */  addiu $2, $3, 8
/* 04C838 8004BC38 AE220000 */  sw    $2, ($17)
/* 04C83C 8004BC3C 001511C0 */  sll   $2, $21, 7
/* 04C840 8004BC40 3C08F518 */  lui   $8, 0xf518
/* 04C844 8004BC44 00481025 */  or    $2, $2, $8
/* 04C848 8004BC48 AC620000 */  sw    $2, ($3)
/* 04C84C 8004BC4C 3C020008 */  lui   $2, (0x00080200 >> 16) # lui $2, 8
/* 04C850 8004BC50 34420200 */  ori   $2, (0x00080200 & 0xFFFF) # ori $2, $2, 0x200
/* 04C854 8004BC54 AC620004 */  sw    $2, 4($3)
/* 04C858 8004BC58 8E230000 */  lw    $3, ($17)
/* 04C85C 8004BC5C 24620008 */  addiu $2, $3, 8
/* 04C860 8004BC60 AE220000 */  sw    $2, ($17)
/* 04C864 8004BC64 3C02F200 */  lui   $2, 0xf200
/* 04C868 8004BC68 AC620000 */  sw    $2, ($3)
/* 04C86C 8004BC6C 00171300 */  sll   $2, $23, 0xc
/* 04C870 8004BC70 00571025 */  or    $2, $2, $23
/* 04C874 8004BC74 AC620004 */  sw    $2, 4($3)
/* 04C878 8004BC78 3C02800E */  lui   $2, %hi(D_800D8100) # $2, 0x800e
/* 04C87C 8004BC7C 94428100 */  lhu   $2, %lo(D_800D8100)($2)
/* 04C880 8004BC80 18400049 */  blez  $2, .L8004BDA8
/* 04C884 8004BC84 00009021 */   addu  $18, $0, $0
/* 04C888 8004BC88 00122400 */  sll   $4, $18, 0x10
.L8004BC8C:
/* 04C88C 8004BC8C 0C01307B */  jal   GetSpaceData
/* 04C890 8004BC90 00042403 */   sra   $4, $4, 0x10
/* 04C894 8004BC94 00408021 */  addu  $16, $2, $0
/* 04C898 8004BC98 92020001 */  lbu   $2, 1($16)
/* 04C89C 8004BC9C 5453003D */  bnel  $2, $19, .L8004BD94
/* 04C8A0 8004BCA0 26520001 */   addiu $18, $18, 1
/* 04C8A4 8004BCA4 92020000 */  lbu   $2, ($16)
/* 04C8A8 8004BCA8 30420001 */  andi  $2, $2, 1
/* 04C8AC 8004BCAC 10400038 */  beqz  $2, .L8004BD90
/* 04C8B0 8004BCB0 27A40010 */   addiu $4, $29, 0x10
/* 04C8B4 8004BCB4 8FA80054 */  lw    $8, 0x54($29)
/* 04C8B8 8004BCB8 0C0282E4 */  jal   func_800A0B90
/* 04C8BC 8004BCBC 25050040 */   addiu $5, $8, 0x40
/* 04C8C0 8004BCC0 8E050004 */  lw    $5, 4($16)
/* 04C8C4 8004BCC4 8E060008 */  lw    $6, 8($16)
/* 04C8C8 8004BCC8 8E07000C */  lw    $7, 0xc($16)
/* 04C8CC 8004BCCC 0C0088E4 */  jal   func_80022390
/* 04C8D0 8004BCD0 27A40010 */   addiu $4, $29, 0x10
/* 04C8D4 8004BCD4 C6000010 */  lwc1  $f0, 0x10($16)
/* 04C8D8 8004BCD8 C6020018 */  lwc1  $f2, 0x18($16)
/* 04C8DC 8004BCDC 4600A002 */  mul.s $f0, $f20, $f0
/* 04C8E0 8004BCE0 44050000 */  mfc1  $5, $f0
/* 04C8E4 8004BCE4 3C063F80 */  lui   $6, 0x3f80
/* 04C8E8 8004BCE8 4602A082 */  mul.s $f2, $f20, $f2
/* 04C8EC 8004BCEC 44071000 */  mfc1  $7, $f2
/* 04C8F0 8004BCF0 00000000 */  nop   
/* 04C8F4 8004BCF4 0C008914 */  jal   func_80022450
/* 04C8F8 8004BCF8 27A40010 */   addiu $4, $29, 0x10
/* 04C8FC 8004BCFC 3C10800F */  lui   $16, %hi(D_800ED52C) # $16, 0x800f
/* 04C900 8004BD00 9610D52C */  lhu   $16, %lo(D_800ED52C)($16)
/* 04C904 8004BD04 26020001 */  addiu $2, $16, 1
/* 04C908 8004BD08 3C01800F */  lui   $1, %hi(D_800ED52C) # $1, 0x800f
/* 04C90C 8004BD0C A422D52C */  sh    $2, %lo(D_800ED52C)($1)
/* 04C910 8004BD10 00108400 */  sll   $16, $16, 0x10
/* 04C914 8004BD14 00108283 */  sra   $16, $16, 0xa
/* 04C918 8004BD18 3C02800F */  lui   $2, %hi(D_800F374C) # $2, 0x800f
/* 04C91C 8004BD1C 8C42374C */  lw    $2, %lo(D_800F374C)($2)
/* 04C920 8004BD20 02028021 */  addu  $16, $16, $2
/* 04C924 8004BD24 27A40010 */  addiu $4, $29, 0x10
/* 04C928 8004BD28 0C028288 */  jal   func_800A0A20
/* 04C92C 8004BD2C 02002821 */   addu  $5, $16, $0
/* 04C930 8004BD30 8E230000 */  lw    $3, ($17)
/* 04C934 8004BD34 24620008 */  addiu $2, $3, 8
/* 04C938 8004BD38 AE220000 */  sw    $2, ($17)
/* 04C93C 8004BD3C 3C02DA38 */  lui   $2, (0xDA380003 >> 16) # lui $2, 0xda38
/* 04C940 8004BD40 34420003 */  ori   $2, (0xDA380003 & 0xFFFF) # ori $2, $2, 3
/* 04C944 8004BD44 AC620000 */  sw    $2, ($3)
/* 04C948 8004BD48 3C028000 */  lui   $2, 0x8000
/* 04C94C 8004BD4C 02028023 */  subu  $16, $16, $2
/* 04C950 8004BD50 AC700004 */  sw    $16, 4($3)
/* 04C954 8004BD54 8E230000 */  lw    $3, ($17)
/* 04C958 8004BD58 24620008 */  addiu $2, $3, 8
/* 04C95C 8004BD5C AE220000 */  sw    $2, ($17)
/* 04C960 8004BD60 3C020100 */  lui   $2, (0x01004008 >> 16) # lui $2, 0x100
/* 04C964 8004BD64 34424008 */  ori   $2, (0x01004008 & 0xFFFF) # ori $2, $2, 0x4008
/* 04C968 8004BD68 AC620000 */  sw    $2, ($3)
/* 04C96C 8004BD6C AC760004 */  sw    $22, 4($3)
/* 04C970 8004BD70 8E230000 */  lw    $3, ($17)
/* 04C974 8004BD74 24620008 */  addiu $2, $3, 8
/* 04C978 8004BD78 AE220000 */  sw    $2, ($17)
/* 04C97C 8004BD7C 3C020600 */  lui   $2, (0x06000204 >> 16) # lui $2, 0x600
/* 04C980 8004BD80 34420204 */  ori   $2, (0x06000204 & 0xFFFF) # ori $2, $2, 0x204
/* 04C984 8004BD84 AC620000 */  sw    $2, ($3)
/* 04C988 8004BD88 24020406 */  li    $2, 1030
/* 04C98C 8004BD8C AC620004 */  sw    $2, 4($3)
.L8004BD90:
/* 04C990 8004BD90 26520001 */  addiu $18, $18, 1
.L8004BD94:
/* 04C994 8004BD94 3C02800E */  lui   $2, %hi(D_800D8100) # $2, 0x800e
/* 04C998 8004BD98 94428100 */  lhu   $2, %lo(D_800D8100)($2)
/* 04C99C 8004BD9C 0242102A */  slt   $2, $18, $2
/* 04C9A0 8004BDA0 1440FFBA */  bnez  $2, .L8004BC8C
/* 04C9A4 8004BDA4 00122400 */   sll   $4, $18, 0x10
.L8004BDA8:
/* 04C9A8 8004BDA8 26730001 */  addiu $19, $19, 1
/* 04C9AC 8004BDAC 2A62000A */  slti  $2, $19, 0xa
/* 04C9B0 8004BDB0 1440FF56 */  bnez  $2, .L8004BB0C
/* 04C9B4 8004BDB4 00000000 */   nop   
.L8004BDB8:
/* 04C9B8 8004BDB8 8FBF008C */  lw    $31, 0x8c($29)
/* 04C9BC 8004BDBC 8FBE0088 */  lw    $30, 0x88($29)
/* 04C9C0 8004BDC0 8FB70084 */  lw    $23, 0x84($29)
/* 04C9C4 8004BDC4 8FB60080 */  lw    $22, 0x80($29)
/* 04C9C8 8004BDC8 8FB5007C */  lw    $21, 0x7c($29)
/* 04C9CC 8004BDCC 8FB40078 */  lw    $20, 0x78($29)
/* 04C9D0 8004BDD0 8FB30074 */  lw    $19, 0x74($29)
/* 04C9D4 8004BDD4 8FB20070 */  lw    $18, 0x70($29)
/* 04C9D8 8004BDD8 8FB1006C */  lw    $17, 0x6c($29)
/* 04C9DC 8004BDDC 8FB00068 */  lw    $16, 0x68($29)
/* 04C9E0 8004BDE0 D7B40090 */  ldc1  $f20, 0x90($29)
/* 04C9E4 8004BDE4 03E00008 */  jr    $31
/* 04C9E8 8004BDE8 27BD0098 */   addiu $29, $29, 0x98

.set at
.set reorder
