.set noat      # allow manual use of $1
.set noreorder # don't insert nops after branches

.include "globals.inc"
.include "macros.inc"

glabel func_80059354
/* 059F54 80059354 00801821 */  addu  $3, $4, $0
/* 059F58 80059358 00042400 */  sll   $4, $4, 0x10
/* 059F5C 8005935C 04810004 */  bgez  $4, .L80059370
/* 059F60 80059360 00031400 */   sll   $2, $3, 0x10
/* 059F64 80059364 3C03800F */  lui   $3, %hi(D_800ED5DE)
/* 059F68 80059368 9463D5DE */  lhu   $3, %lo(D_800ED5DE)($3)
/* 059F6C 8005936C 00031400 */  sll   $2, $3, 0x10
.L80059370:
/* 059F70 80059370 00021403 */  sra   $2, $2, 0x10
/* 059F74 80059374 04420001 */  bltzl $2, .L8005937C
/* 059F78 80059378 24420007 */   addiu $2, $2, 7
.L8005937C:
/* 059F7C 8005937C 000210C3 */  sra   $2, $2, 3
/* 059F80 80059380 A4A20000 */  sh    $2, ($5)
/* 059F84 80059384 00031400 */  sll   $2, $3, 0x10
/* 059F88 80059388 00021C03 */  sra   $3, $2, 0x10
/* 059F8C 8005938C 04610002 */  bgez  $3, .L80059398
/* 059F90 80059390 00601021 */   addu  $2, $3, $0
/* 059F94 80059394 24620007 */  addiu $2, $3, 7
.L80059398:
/* 059F98 80059398 000210C3 */  sra   $2, $2, 3
/* 059F9C 8005939C 000210C0 */  sll   $2, $2, 3
/* 059FA0 800593A0 00621023 */  subu  $2, $3, $2
/* 059FA4 800593A4 03E00008 */  jr    $31
/* 059FA8 800593A8 A4C20000 */   sh    $2, ($6)

.set at
.set reorder
